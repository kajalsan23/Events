<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dandiya Raasotsav 2025</title>

  <!-- ======= CSS Libraries ======= -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <!-- ======= Custom Styles ======= -->
  <style>
    /* ---------- Body & Background ---------- */
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0; padding: 0;
      overflow-x: hidden;
      background: linear-gradient(135deg, #4a148c, #d81b60, #ffca28);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* Floating dots */
    .background-animation { position: fixed; top:0; left:0; width:100%; height:100%; z-index:0; overflow:hidden; }
    .dot { position:absolute; width:8px; height:8px; background: rgba(255,255,255,0.8); border-radius:50%; animation: floatUp 10s linear infinite; }
    @keyframes floatUp {
      0% { transform: translateY(100vh) scale(0.5); opacity:0.5; }
      50% { opacity:1; }
      100% { transform: translateY(-10vh) scale(1.2); opacity:0; }
    }

    /* Banner */
    .banner { text-align:center; padding:80px 10px; color:#fff; z-index:1; }
    .banner h1 { font-size:4rem; font-weight:bold; text-shadow:0 0 15px rgba(255,140,0,0.9); }
    .banner p { font-size:1.3rem; }

    /* Cards */
    .ticket-card {
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(12px);
      border-radius:15px;
      box-shadow:0 6px 20px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      text-align:center;
      padding:2rem;
    }
    .ticket-card:hover { transform: translateY(-8px); box-shadow:0 12px 25px rgba(0,0,0,0.15); }
    .card-icon { font-size:2.5rem; margin-bottom:1rem; }

    .book-btn {
      background: linear-gradient(90deg, #ff512f, #dd2476);
      color:#fff;
      font-weight:bold;
      border:none; border-radius:25px;
      padding:10px 20px;
      transition:0.3s;
    }
    .book-btn:hover { background: linear-gradient(90deg, #dd2476, #ff512f); transform: scale(1.05); }

    .social-qr { width:185px; height:210px; object-fit:cover; border-radius:10px; border:3px solid #eee; transition: transform 0.3s ease; }
    .social-qr:hover { transform: scale(1.05); }

    footer { background:#111; color:#ccc; padding:20px 0; text-align:center; z-index:1; }
    footer a { color:#ff9800; text-decoration:none; }

    .text-gradient {
      background: linear-gradient(90deg, #e7e0de, #f1e9ec);
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    }

    a#instagramLink, a#whatsappLink {
  position: relative;
  z-index: 10;
    }
  </style>
</head>
<body>

<!-- =================== Background Dots =================== -->
<div class="background-animation">
  <div class="dot" style="left:10%; animation-duration:12s;"></div>
  <div class="dot" style="left:20%; animation-duration:15s;"></div>
  <div class="dot" style="left:35%; animation-duration:18s;"></div>
  <div class="dot" style="left:50%; animation-duration:14s;"></div>
  <div class="dot" style="left:65%; animation-duration:20s;"></div>
  <div class="dot" style="left:80%; animation-duration:16s;"></div>
  <div class="dot" style="left:90%; animation-duration:19s;"></div>
</div>

<!-- =================== Banner =================== -->
<section class="banner">
  <h1 class="animate__animated animate__zoomIn">Dandiya Raasotsav 2025</h1>
  <p class="animate__animated animate__fadeInUp">Dance ‚Ä¢ Celebrate ‚Ä¢ Connect</p>
  <p class="animate__animated animate__fadeInUp">27th September | 5:30 PM Onwards</p>
</section>

<!-- =================== Event Details =================== -->
<section class="container py-5">
  <div class="row align-items-stretch g-4">
    <div class="col-md-6" data-aos="fade-right">
      <div class="h-100 p-4 rounded-4 shadow-lg" style="background-color: rgba(255,255,255,0.1);">
        <h2 class="mb-3" style="color: #fff;">Event Highlights</h2>
        <p style="color:#f0f0f0; font-size:1.1rem;">
          üíÉ Electrifying Garba nights with live singers, DJs, food stalls, and competitions.
        </p>
        <ul style="color:#ffd700; font-size:1rem;">
          <li>üé§ Live performers & DJs</li>
          <li>üç¥ Multi-cuisine food court</li>
          <li>üèÜ Award Ceremony</li>
          <li>üì∏ Photo Booth</li>
        </ul>
      </div>
    </div>
    <div class="col-md-6" data-aos="fade-left">
      <div class="h-100 p-4 rounded-4 shadow-lg" style="background-color: rgba(255,255,255,0.1);">
        <h4 style="color:#fff;">Venue</h4>
        <p style="color:#f0f0f0;">Mayfield Ivy Garden & Banquet, Baner, Pune</p>
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3782.955648702998!2d73.78563037518758!3d18.56390308254369!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2bfd8c71c0a1f%3A0x639a23a40334a568!2sMayfield%20Ivy%20Garden%20%26%20Banquet!5e0!3m2!1sen!2sin!4v1725965230000!5m2!1sen!2sin" width="100%" height="250" style="border:0; border-radius:15px;" allowfullscreen="" loading="lazy"></iframe>
      </div>
    </div>
  </div>
</section>

<!-- =================== Tickets & Pricing =================== -->
<section class="container py-5">
  <h2 class="text-center mb-5 fw-bold text-gradient">üéüÔ∏è Tickets & Pricing</h2>
  <div id="ticketsContainer" class="row g-4 justify-content-center"></div>
</section>

<!-- =================== Booking Modal =================== -->
<div class="modal fade" id="bookingModal" tabindex="-1" aria-labelledby="bookingModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="bookingModalLabel">Book Your Pass</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="bookingForm" novalidate>
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label">Full Name</label>
              <input type="text" class="form-control" id="name" required>
              <div class="invalid-feedback">Name must contain only letters.</div>
            </div>
            <div class="col-md-6">
              <label class="form-label">Email</label>
              <input type="email" class="form-control" id="email" required>
              <div class="invalid-feedback">Please enter a valid email address.</div>
            </div>
            <div class="col-md-6">
              <label class="form-label">Phone</label>
              <input type="tel" class="form-control" id="phone" maxlength="10" required>
              <div class="invalid-feedback">Please enter a valid 10-digit number.</div>
            </div>
            <div class="col-md-6">
              <label class="form-label">Selected Pass</label>
              <input type="text" class="form-control" id="selectedPass" readonly>
            </div>
            <div class="col-md-6">
              <label class="form-label">Quantity</label>
              <div class="input-group">
                <button class="btn btn-outline-secondary" type="button" id="decreaseQty">-</button>
                <input type="text" class="form-control text-center" id="passQuantity" value="1" readonly required>
                <button class="btn btn-outline-secondary" type="button" id="increaseQty">+</button>
              </div>
            </div>
            <div class="col-md-6">
              <label class="form-label">Total Amount</label>
              <input type="text" class="form-control" id="totalAmount" readonly>
            </div>
          </div>
          <div class="modal-footer border-0">
            <button type="submit" class="btn book-btn w-100" id="proceedBtn" disabled>Proceed to Booking</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- =================== Social Links =================== -->
  <!-- Social Links -->
  <section class="social-section text-center my-5">
    <h4 class="fw-bold text-gradient">üì≤ Connect with Us</h4>
    <div class="d-flex justify-content-center gap-5 mt-3 flex-wrap">

      <div class="text-center">
        <!-- WhatsApp -->
        <a href="https://api.whatsapp.com/send?phone=7058746046&text=Hi%20I%20want%20to%20book%20tickets%20for%20Dandiya!" 
           target="_blank" style="text-decoration:none; color:#eae1e4;" id="whatsappLink">
          <img src="./assets/WhatsApp.jpeg" alt="WhatsApp QR" class="social-qr"><br>
          WhatsApp
        </a>
      </div>
      
      <div class="text-center">
        <!-- Instagram -->
        <a href="https://www.instagram.com/divine_events_and_company" 
           target="_blank" style="text-decoration:none; color:#eae1e4;" id="instagramLink">
          <img src="./assets/insta.jpeg" alt="Instagram QR" class="social-qr"><br>
          Instagram
        </a>
      </div>
    
    </div>
  </section>

<!-- =================== FAQ & Contact =================== -->
<section class="container py-5">
  <h2 class="text-center mb-5 fw-bold text-gradient">‚ùì FAQ & üìû Contact</h2>
  <div class="row justify-content-center align-items-start mb-4">
    <div class="col-md-5 text-md-end text-center mb-3 mb-md-0 pe-md-4 border-end">
      <p><strong>üëó Dress Code:</strong> Traditional preferred</p>
      <p><strong>üë∂ Kids Entry:</strong> Free below 6 years</p>
    </div>
    <div class="col-md-5 text-md-start text-center ps-md-4">
      <p><strong>‚ùå Refund Policy:</strong> Tickets non-refundable</p>
      <p><strong>üìû Contact:</strong> +91 7058746046 | divineeventsandco@gmail.com</p>
    </div>
  </div>
</section>

<!-- =================== Footer =================== -->
<footer>
  <p>¬© 2025 Dandiya Raasotsav | Made with ‚ù§Ô∏è</p>
</footer>

<!-- =================== JS Libraries =================== -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init({ duration: 900 });
</script>

<!-- =================== Tickets Loader & Modal Logic =================== -->
<script>
(async function() {
  // ----- Elements -----
  const ticketsContainer = document.getElementById("ticketsContainer");
  const bookingModalEl = document.getElementById("bookingModal");
  const bookingForm = document.getElementById("bookingForm");
  const selectedPassInput = document.getElementById("selectedPass");
  const passQuantityInput = document.getElementById("passQuantity");
  const totalAmountInput = document.getElementById("totalAmount");
  const proceedBtn = document.getElementById("proceedBtn");
  const nameInput = document.getElementById("name");
  const emailInput = document.getElementById("email");
  const phoneInput = document.getElementById("phone");
  
  let selectedPrice = 0;

  // ----- Load Tickets from API -----

  async function loadTickets() {
  try {
    // Hardcoded ticket data instead of fetching from API
    const data = [
      {
        name: "Kids",
        description: "Kids Pass (Under 6 years)",
        price: 399
      },
      {
        name: "Regular",
        description: "Single Entry Pass",
        price: 499
      },
      {
        name: "Couple",
        description: "Couple Pass (For 2 People)",
        price: 899
      },
      {
        name: "Group of 3",
        description: "Group Pass (3 People)",
        price: 1399
      },
      {
        name: "Group of 5",
        description: "Group Pass (5 People)",
        price: 2199
      }
    ];

    ticketsContainer.innerHTML = "";

    const iconMap = {
      "KIDS": "üë¶",
      "REGULAR": "üôã",
      "COUPLE": "üíë",
      "GROUP OF 3": "üë®‚Äçüë©‚Äçüëß",
      "GROUP OF 5": "üë®‚Äçüë©‚Äçüëß‚Äçüë¶"
    };

    data.forEach(ticket => {
      const icon = iconMap[ticket.name.toUpperCase()] || "üéüÔ∏è";
      const card = `
        <div class="col-md-6 col-lg-4">
          <div class="card ticket-card">
            <div class="card-icon">${icon}</div>
            <h5 class="fw-bold">${ticket.description}</h5>
            <p class="fs-4 text-primary">‚Çπ${ticket.price}</p>
            <button class="btn book-btn" data-bs-toggle="modal" data-bs-target="#bookingModal" data-ticket="${ticket.name} - ‚Çπ${ticket.price}">Book Now</button>
          </div>
        </div>`;
      ticketsContainer.insertAdjacentHTML("beforeend", card);
    });
  } catch (e) {
    console.error(e);
  }
}

document.addEventListener("DOMContentLoaded", loadTickets);



  // async function loadTickets() {
  //   try {
  //     const res = await fetch("https://whatsapp-booking-bot-by57.onrender.com/api/passes");
  //     const data = (await res.json()).data;
  //     ticketsContainer.innerHTML = "";

  //     const iconMap = { "KIDS":"üë¶","REGULAR":"üôã","COUPLE":"üíë","GROUP OF 3":"üë®‚Äçüë©‚Äçüëß","GROUP OF 5":"üë®‚Äçüë©‚Äçüëß‚Äçüë¶" };

  //     data.forEach(ticket => {
  //       const icon = iconMap[ticket.name.toUpperCase()] || "üéüÔ∏è";
  //       const card = `
  //         <div class="col-md-6 col-lg-4">
  //           <div class="card ticket-card">
  //             <div class="card-icon">${icon}</div>
  //             <h5 class="fw-bold">${ticket.description}</h5>
  //             <p class="fs-4 text-primary">‚Çπ${ticket.price}</p>
  //             <button class="btn book-btn" data-bs-toggle="modal" data-bs-target="#bookingModal" data-ticket="${ticket.name} - ‚Çπ${ticket.price}">Book Now</button>
  //           </div>
  //         </div>`;
  //       ticketsContainer.insertAdjacentHTML("beforeend", card);
  //     });
  //   } catch(e) { console.error(e); }
  // }
  // document.addEventListener("DOMContentLoaded", loadTickets);

  // ----- Modal logic -----
  
  // bookingModalEl.addEventListener('show.bs.modal', event => {
  //   const button = event.relatedTarget;
  //   const ticketText = button.getAttribute('data-ticket');
  //   selectedPassInput.value = ticketText;
  //   const match = ticketText.match(/‚Çπ(\d+)/);
  //   selectedPrice = match ? parseInt(match[1]) : 0;
  //   passQuantityInput.value = 1;
  //   totalAmountInput.value = '‚Çπ' + selectedPrice;
  //   proceedBtn.disabled = true;
  // });

  // passQuantityInput.addEventListener('input', () => {
  //   let qty = Math.max(1, parseInt(passQuantityInput.value)||1);
  //   passQuantityInput.value = qty;
  //   totalAmountInput.value = '‚Çπ' + (selectedPrice * qty);
  // });

  bookingModalEl.addEventListener('show.bs.modal', event => {
  const button = event.relatedTarget;
  const ticketText = button.getAttribute('data-ticket');
  selectedPassInput.value = ticketText;

  const match = ticketText.match(/‚Çπ(\d+)/);
  selectedPrice = match ? parseInt(match[1], 10) : 0;

  passQuantityInput.value = 1;
  totalAmountInput.value = '‚Çπ' + selectedPrice;

  proceedBtn.disabled = true;
});

// Handle +/- buttons for quantity
const increaseBtn = document.getElementById("increaseQty");
const decreaseBtn = document.getElementById("decreaseQty");

increaseBtn.addEventListener("click", () => {
  let qty = parseInt(passQuantityInput.value) || 1;
  passQuantityInput.value = qty + 1;
  updateTotal();
});

decreaseBtn.addEventListener("click", () => {
  let qty = parseInt(passQuantityInput.value) || 1;
  if (qty > 1) passQuantityInput.value = qty - 1;
  updateTotal();
});

// Update total price
function updateTotal() {
  let qty = Math.max(1, parseInt(passQuantityInput.value) || 1);
  passQuantityInput.value = qty;
  totalAmountInput.value = '‚Çπ' + (selectedPrice * qty);
}


  // ----- Modal Form validation & WhatsApp submit -----


// Name Validation (letters only)
const modalNameInput = document.getElementById('name');
modalNameInput.addEventListener('input', function () {
  this.value = this.value.replace(/[^A-Za-z ]/g, '');
});
modalNameInput.addEventListener('blur', validateNameModal);
modalNameInput.addEventListener('keyup', validateNameModal);

function validateNameModal() {
  const name = modalNameInput.value.trim();
  if (/^[A-Za-z ]{2,}$/.test(name)) {
    modalNameInput.classList.remove('is-invalid');
    modalNameInput.classList.add('is-valid');
  } else {
    modalNameInput.classList.remove('is-valid');
    modalNameInput.classList.add('is-invalid');
  }
}

// Email Validation (pattern)
const modalEmailInput = document.getElementById('email');
modalEmailInput.addEventListener('blur', validateEmailModal);
modalEmailInput.addEventListener('keyup', validateEmailModal);

function validateEmailModal() {
  const email = modalEmailInput.value.trim();
  const pattern = /^[a-z0-9._%+\-]+@[a-z0-9.-]+\.[a-z]{2,}$/i;
  if (pattern.test(email)) {
    modalEmailInput.classList.remove('is-invalid');
    modalEmailInput.classList.add('is-valid');
  } else {
    modalEmailInput.classList.remove('is-valid');
    modalEmailInput.classList.add('is-invalid');
  }
}

// Phone Validation (10-digit number)
const modalPhoneInput = document.getElementById('phone');
modalPhoneInput.addEventListener('input', function () {
  this.value = this.value.replace(/[^0-9]/g, '');
});
modalPhoneInput.addEventListener('blur', validatePhoneModal);
modalPhoneInput.addEventListener('keyup', validatePhoneModal);

function validatePhoneModal() {
  const phone = modalPhoneInput.value.trim();
  if (/^[0-9]{10}$/.test(phone)) {
    modalPhoneInput.classList.remove('is-invalid');
    modalPhoneInput.classList.add('is-valid');
  } else {
    modalPhoneInput.classList.remove('is-valid');
    modalPhoneInput.classList.add('is-invalid');
  }
}

// Enable Proceed button only if all valid
bookingForm.addEventListener('input', function () {
  if (
    /^[A-Za-z ]{2,}$/.test(modalNameInput.value.trim()) &&
    /^[a-z0-9._%+\-]+@[a-z0-9.-]+\.[a-z]{2,}$/i.test(modalEmailInput.value.trim()) &&
    /^[0-9]{10}$/.test(modalPhoneInput.value.trim())
  ) {
    proceedBtn.classList.remove('disabled');
  } else {
    proceedBtn.classList.add('disabled');
  }
});

// ----------------------- whatsapp submit -----------------------------------

  function checkFormValidity() {
    const formValid = bookingForm.checkValidity();
    const phoneValid = /^[0-9]{10}$/.test(phoneInput.value.trim());
    const nameValid = /^[A-Za-z ]{2,}$/.test(nameInput.value.trim());
    proceedBtn.disabled = !(formValid && phoneValid && nameValid);
  }

  bookingForm.addEventListener('input', checkFormValidity);

  bookingForm.addEventListener('submit', function(e) {
    e.preventDefault();
    if (proceedBtn.disabled) return;
     const message = `Ticket Booking Request: \nName: ${nameInput.value}\nEmail: ${emailInput.value}\nPhone: ${phoneInput.value}\nPass: ${selectedPassInput.value}\nQuantity: ${passQuantityInput.value}\nTotal: ${totalAmountInput.value}`;
    // const newMeesage = `Name: ${name} \nPhone: ${phone} \nEmail: ${email} \n\Pass: ${pass}\nQuantity: ${quantity}\nAmount: ${amount} `;
    window.open(`https://wa.me/918446662683?text=${encodeURIComponent(message)}`, '_blank');
    bootstrap.Modal.getInstance(bookingModalEl).hide();
    setTimeout(() => bookingForm.reset(), 300);
  });
})();




// reset modal form


const bookingModalEl = document.getElementById('bookingModal');
bookingModalEl.addEventListener('hidden.bs.modal', function () {
  // Reset all inputs
  bookingForm.reset();

  // Clear validation classes
  modalNameInput.classList.remove('is-valid', 'is-invalid');
  modalEmailInput.classList.remove('is-valid', 'is-invalid');
  modalPhoneInput.classList.remove('is-valid', 'is-invalid');

  // Clear selected pass and total
  selectedPassInput.value = '';
  totalAmountInput.value = '';
  passQuantityInput.value = 1;

  // Disable proceed button
  proceedBtn.classList.add('disabled');

  // Reset selectedPrice
  selectedPrice = 0;
});

</script>
</body>
</html>
